{% extends 'base.html.twig' %}
{% block title %}Votre Profil
{% endblock %}
{% block body %}

	<div class="container mx-auto mt-12 p-6 bg-gradient-to-r from-blue-100 via-purple-100 to-pink-100 shadow-lg rounded-xl">
		<h1 class="text-4xl font-bold text-gray-800 text-center mb-6">
			Heureux de vous revoir,
			<span class="text-blue-600">{{ user.firstName }}</span>!
		</h1>

		<p class="text-lg font-medium text-gray-600 text-center mb-8">
			Votre Référence :
			<span class="font-bold text-gray-800">{{ user.ref }}</span>
		</p>


		<p class="text-lg font-medium text-gray-600 text-center mb-8">
			Vous etes un
			<span class="font-bold text-gray-800">
				{{user.siret ? 'professionel' : 'particulier'}}
			</span>
		</p>


		{% if is_granted('ROLE_ADMIN') %}
			{% if app.user.isVerified %}
				<div class="bg-white p-4 rounded-lg shadow-md mb-8">
					<p class="text-sm font-semibold text-gray-500 uppercase mb-2">
						Tableau de bord
					</p>
					<a href="#" class="text-lg font-medium text-blue-600 hover:underline">
						Cliquez ici pour accéder au tableau de bord
					</a>
				</div>
			{% else %}
				<div class="bg-white p-4 rounded-lg shadow-md mb-8">
					<p class="text-sm font-semibold text-gray-500 uppercase mb-2">
						Vous devez verifier votre compte pour acceder au tableau de bord
					</p>
				</div>
			{% endif %}
		{% endif %}

		<div class="grid grid-cols-1 md:grid-cols-2 gap-6 mb-8">
			<div class="bg-white p-6 rounded-lg shadow-md">
				<p class="text-sm font-semibold text-gray-500 uppercase mb-2">Prénom</p>
				<p class="text-xl text-gray-800">{{ user.firstName }}</p>
			</div>

			<div class="bg-white p-6 rounded-lg shadow-md">
				<p class="text-sm font-semibold text-gray-500 uppercase mb-2">Nom</p>
				<p class="text-xl text-gray-800">{{ user.lastName }}</p>
			</div>

			<div class="bg-white p-6 rounded-lg shadow-md">
				<p class="text-sm font-semibold text-gray-500 uppercase mb-2">
					Adresse Email
				</p>
				<p class="text-xl text-gray-800">{{ user.email }}</p>
			</div>

			{% if user.siret %}
				<div class="bg-white p-6 rounded-lg shadow-md">
					<p class="text-sm font-semibold text-gray-500 uppercase mb-2">
						Votre Numero de SIRET
					</p>
					<p class="text-xl text-gray-800">N°{{ user.siret }}</p>
				</div>
			{% endif %}

			<div class="bg-white p-6 rounded-lg shadow-md">
				<p class="text-sm font-semibold text-gray-500 uppercase mb-2">
					Numéro de Téléphone
				</p>
				<p class="text-xl text-gray-800">{{ user.Phone }}</p>
			</div>

			<div class="bg-white p-6 rounded-lg shadow-md flex items-center justify-center">
				<a href="{{ path('app_changePassword', {'id': user.id}) }}" class="text-sm font-semibold text-gray-500 hover:text-yellow-600 uppercase">
					Changer mon mot de passe
				</a>
			</div>

			<div class="bg-white p-6 rounded-lg shadow-md flex items-center justify-center">
				<a href="{{ path('app_updateProfile', {'id': user.id}) }}" class="text-sm font-semibold text-gray-500 hover:text-yellow-600 uppercase">
					Modifier mon profil
				</a>
			</div>

			<div class="bg-white p-6 rounded-lg shadow-md flex items-center justify-center">
				<a href="{{ path('app_addAddress') }}" class="text-sm font-semibold text-gray-500 hover:text-yellow-600 uppercase">
					Ajouter une adresse
				</a>
			</div>


		</div>

		{% if not app.user.verified %}
			<div class="mt-6 bg-yellow-100 border-l-4 border-yellow-500 text-yellow-700 p-4 rounded-lg">
				<p class="font-medium text-center">
					Votre compte n'est pas encore activé. Cliquez sur le bouton ci-dessous
																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																																      pour recevoir un nouvel e-mail d'activation.
				</p>
			</div>

			<div class="mt-6 text-center">
				<a href="{{ path('app_resend') }}" class="px-6 py-3 bg-blue-600 text-white font-semibold rounded-lg shadow-md hover:bg-blue-700 transition duration-300">
					Renvoyer l'e-mail de vérification
				</a>
			</div>
		{% endif %}


		<div class="grid grid-cols-1 md:grid-cols-2 gap-6 mb-8 mt-4">
			{% for address in user.address %}
				<div class="bg-white p-6 rounded-lg shadow-md">
					<p class="text-sm font-semibold text-gray-500 uppercase mb-2">
						Adresse
						{{ loop.index }}
					</p>
					<p class="text-xl text-gray-800">
						<span class="text-gray-500">{{ address.complement }}</span>
						{{ address.Address }}
						{{ address.Cp }}
						{{ address.City }}

					</p>
					<p class="text-sm text-gray-600">{{ address.Type }}</p>

					<a href="{{ path('app_updateAddress', {'id': address.id}) }}" class="text-blue-600 hover:underline px-4 py-2 rounded-md">Modifier</a>
					<a href="{{ path('app_deleteAddress', {'id': address.id}) }}" class="text-red-600 hover:underline px-4 py-2 rounded-md">Supprimer</a>

				</div>
			{% endfor %}
		</div>
	</p>
</div>
<div class="container mx-auto mt-12 p-6 bg-gray-100 shadow-lg rounded-xl">
	<h1 class="text-4xl font-bold text-gray-800 text-center mb-6">Vos Commandes</h1>
	<div class="grid grid-cols-1 md:grid-cols-2 gap-6">
		{% if user.orders is none or user.orders|length == 0 %}
			<p class="text-lg font-medium text-gray-600 text-center mb-8">
				Vous n'avez pas encore de commande
			</p>
		{% else %}
			{% for order in user.orders %}
				<div class="bg-white p-6 rounded-lg shadow-md mb-4">
					<p class="text-sm font-semibold text-gray-500 uppercase mb-2">
						Commande
						{{ loop.index }}:

					</p>
					<p class="text-xl text-gray-800">
						<span class="text-gray-500">N°</span>
						{{ order.id }}
					</p>


					<div class="mt-4">
						<p class="text-gray-600">
							<strong>Date:
							</strong>

						</p>
						<p class="text-gray-600">
							<strong>Status:
							</strong>
							{{ order.status }}
						</p>
						<p class="text-gray-600">
							<strong>Total:
							</strong>${{ order.total }}
						</p>
					</div>
				</div>
			{% endfor %}

		{% endif %}
	</div>
</div>{% endblock %}
