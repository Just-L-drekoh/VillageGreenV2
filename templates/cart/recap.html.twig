{% extends 'base.html.twig' %}

{% block title %}Recapitulatif -
	{{ app.user.firstName }}
{% endblock %}

{% block body %}
	<div class="container mx-auto p-8 bg-gray-50 shadow-xl rounded-2xl mt-16">
		<h1 class="text-4xl font-extrabold text-gray-800 mb-8 text-center">
			Voici le récapitulatif de votre commande avant confirmation
			<span class="text-blue-500">{{ app.user.firstName }}
				{{ app.user.lastName }}</span>
		</h1>
		<div class="flex justify-center items-center">
			<div class="bg-white shadow-md rounded-lg p-10 w-full max-w-lg">
				<h2 class="text-3xl font-semibold text-gray-800 mb-6 text-center">Récapitulatif</h2>
				<div class="space-y-8">
					<div>
						<h3 class="text-lg font-medium text-gray-700">Votre mode de paiement est :</h3>
						<p class="text-gray-600 mt-1 bg-gray-100 p-3 rounded-md">{{ app.session.get('paiement') }}</p>
					</div>
					<div>
						<h3 class="text-lg font-medium text-gray-700">Votre adresse de livraison est :</h3>
						<p class="text-gray-600 mt-1 bg-gray-100 p-3 rounded-md">{{ app.session.get('address') }}</p>
					</div>
					<div>
						<h3 class="text-lg font-medium text-gray-700">Votre adresse de facturation est :</h3>
						<p class="text-gray-600 mt-1 bg-gray-100 p-3 rounded-md">{{ app.session.get('billing_address') }}</p>
					</div>
					<div>
						{% set panier = app.session.get('panier', []) %}
						<div>
							<h3 class="text-lg font-medium text-gray-700">Votre panier contient :</h3>
							{% if recap.products is not empty %}
								<ul class="text-gray-600 mt-2 space-y-2">
									{% for item in recap.products %}
										<li class="bg-gray-100 p-3 rounded-md">
											<span class="font-semibold">{{ item.product.label }}</span>
											<span class="text-sm text-gray-500">(Quantité:
												{{ item.quantity }})</span>

										</li>
									{% endfor %}
								</ul>
							{% else %}
								<p class="text-gray-600 mt-2 bg-gray-100 p-3 rounded-md">Votre panier est vide.</p>
							{% endif %}
						</div>
					</div>
				</div>
			</div>
		</div>
	</div>
{% endblock %}
